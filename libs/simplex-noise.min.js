var F2=.5*(Math.sqrt(3)-1),G2=(3-Math.sqrt(3))/6,F3=1/3,G3=1/6,F4=(Math.sqrt(5)-1)/4,G4=(5-Math.sqrt(5))/20;function SimplexNoise(g){g||(g=Math.random);this.p=new Uint8Array(256);this.perm=new Uint8Array(512);this.permMod12=new Uint8Array(512);for(var d=0;256>d;d++)this.p[d]=256*g();for(d=0;512>d;d++)this.perm[d]=this.p[d&255],this.permMod12[d]=this.perm[d]%12}
SimplexNoise.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(g,d){var p=this.permMod12,
q=this.perm,b=this.grad3,a=0,f=0,l=0,h=(g+d)*F2,e=Math.floor(g+h),r=Math.floor(d+h),h=(e+r)*G2,m=g-(e-h),k=d-(r-h),t,c;m>k?(t=1,c=0):(t=0,c=1);var n=m-t+G2,x=k-c+G2,h=m-1+2*G2,v=k-1+2*G2,e=e&255,r=r&255,w=.5-m*m-k*k;0<=w&&(a=3*p[e+q[r]],w*=w,a=w*w*(b[a]*m+b[a+1]*k));m=.5-n*n-x*x;0<=m&&(f=3*p[e+t+q[r+c]],m*=m,f=m*m*(b[f]*n+b[f+1]*x));n=.5-h*h-v*v;0<=n&&(p=3*p[e+1+q[r+1]],n*=n,l=n*n*(b[p]*h+b[p+1]*v));return 70*(a+f+l)},noise3D:function(g,d,p){var q=this.permMod12,b=this.perm,a=this.grad3,f,l,h=(g+
d+p)*F3,e=Math.floor(g+h),r=Math.floor(d+h),m=Math.floor(p+h),h=(e+r+m)*G3;f=g-(e-h);var k=d-(r-h),t=p-(m-h),c,n,x,v,w,A;f>=k?k>=t?(c=1,x=n=0,w=v=1,A=0):(f>=t?(c=1,x=n=0):(n=c=0,x=1),v=1,w=0,A=1):k<t?(n=c=0,x=1,v=0,A=w=1):f<t?(c=0,n=1,v=x=0,A=w=1):(c=0,n=1,x=0,w=v=1,A=0);l=f-c+G3;var u=k-n+G3,C=t-x+G3;g=f-v+2*G3;var y=k-w+2*G3,z=t-A+2*G3;p=f-1+3*G3;d=k-1+3*G3;var h=t-1+3*G3,e=e&255,r=r&255,m=m&255,B=.6-f*f-k*k-t*t;if(0>B)f=0;else{var D=3*q[e+b[r+b[m]]],B=B*B;f=B*B*(a[D]*f+a[D+1]*k+a[D+2]*t)}k=.6-
l*l-u*u-C*C;0>k?l=0:(c=3*q[e+c+b[r+n+b[m+x]]],k*=k,l=k*k*(a[c]*l+a[c+1]*u+a[c+2]*C));u=.6-g*g-y*y-z*z;0>u?g=0:(v=3*q[e+v+b[r+w+b[m+A]]],u*=u,g=u*u*(a[v]*g+a[v+1]*y+a[v+2]*z));y=.6-p*p-d*d-h*h;0>y?a=0:(q=3*q[e+1+b[r+1+b[m+1]]],y*=y,a=y*y*(a[q]*p+a[q+1]*d+a[q+2]*h));return 32*(f+l+g+a)},noise4D:function(g,d,p,q){var b=this.perm,a=this.grad4,f,l,h,e=(g+d+p+q)*F4,r=Math.floor(g+e),m=Math.floor(d+e),k=Math.floor(p+e),t=Math.floor(q+e),e=(r+m+k+t)*G4;f=g-(r-e);l=d-(m-e);var c=p-(k-e),n=q-(t-e);q=p=e=d=
0;f>l?d++:e++;f>c?d++:p++;f>n?d++:q++;l>c?e++:p++;l>n?e++:q++;c>n?p++:q++;var x,v,w,A,u,C,y,z,B,D;x=3<=d?1:0;v=3<=e?1:0;w=3<=p?1:0;A=3<=q?1:0;h=2<=d?1:0;u=2<=e?1:0;C=2<=p?1:0;y=2<=q?1:0;g=1<=d?1:0;z=1<=e?1:0;B=1<=p?1:0;D=1<=q?1:0;var G=f-x+G4,H=l-v+G4,I=c-w+G4,J=n-A+G4,K=f-h+2*G4,L=l-u+2*G4,M=c-C+2*G4,N=n-y+2*G4,O=f-g+3*G4,P=l-z+3*G4,Q=c-B+3*G4,R=n-D+3*G4;q=f-1+4*G4;p=l-1+4*G4;e=c-1+4*G4;d=n-1+4*G4;var r=r&255,m=m&255,k=k&255,t=t&255,E=.6-f*f-l*l-c*c-n*n;if(0>E)f=0;else{var F=b[r+b[m+b[k+b[t]]]]%
32*4,E=E*E;f=E*E*(a[F]*f+a[F+1]*l+a[F+2]*c+a[F+3]*n)}l=.6-G*G-H*H-I*I-J*J;0>l?l=0:(c=b[r+x+b[m+v+b[k+w+b[t+A]]]]%32*4,l*=l,l=l*l*(a[c]*G+a[c+1]*H+a[c+2]*I+a[c+3]*J));c=.6-K*K-L*L-M*M-N*N;0>c?h=0:(h=b[r+h+b[m+u+b[k+C+b[t+y]]]]%32*4,c*=c,h=c*c*(a[h]*K+a[h+1]*L+a[h+2]*M+a[h+3]*N));u=.6-O*O-P*P-Q*Q-R*R;0>u?g=0:(g=b[r+g+b[m+z+b[k+B+b[t+D]]]]%32*4,u*=u,g=u*u*(a[g]*O+a[g+1]*P+a[g+2]*Q+a[g+3]*R));z=.6-q*q-p*p-e*e-d*d;0>z?a=0:(b=b[r+1+b[m+1+b[k+1+b[t+1]]]]%32*4,z*=z,a=z*z*(a[b]*q+a[b+1]*p+a[b+2]*e+a[b+3]*
d));return 27*(f+l+h+g+a)}};"undefined"!==typeof define&&define.amd&&define(function(){return SimplexNoise});"undefined"!==typeof exports?exports.SimplexNoise=SimplexNoise:"undefined"!==typeof window&&(window.SimplexNoise=SimplexNoise);"undefined"!==typeof module&&(module.exports=SimplexNoise);